"use strict";var UIController=function(){var l={displayTop:document.querySelector(".display_top"),displayBottom:document.querySelector(".display_bottom"),on:document.querySelector(".on"),equal:document.querySelector(".equal"),shift:document.querySelector(".shift"),circleShift:document.querySelector(".circle_shift"),alpha:document.querySelector(".alpha"),circleAlpha:document.querySelector(".circle_alpha"),sqrt:document.querySelector(".sqrt"),xInverse:document.querySelector(".x_inverse"),xSquare:document.querySelector(".x_square"),xCube:document.querySelector(".x_cube"),upArrow:document.querySelector(".up_arrow"),selectAllButton:document.querySelectorAll("button"),log:document.querySelector(".log"),ln:document.querySelector(".ln"),sin:document.querySelector(".sin"),cos:document.querySelector(".cos"),tan:document.querySelector(".tan"),allClear:document.querySelector(".all_clear"),delete:document.querySelector(".delete"),addition:document.querySelector(".addition"),subtraction:document.querySelector(".subtraction"),multiply:document.querySelector(".multiply"),divide:document.querySelector(".divide"),point:document.querySelector(".point"),exp:document.querySelector(".exp"),shiftCount:0,alphaCount:0};return{getDOMData:function(){return l},getDataContent:[[null,null,null,"shift","Shift"],[null,null,null,"alpha","Alpha"],[null,null,null,"mode","Mode","CLR"],[null,null,null,"on","On"],["⁻¹","!",null,"x_inverse","x<sup>-1</sup>","x!"],[null,null,null,"combinations","nCr","nPr"],[null,null,null,"pol","Pol(","Rec(",":"],["³","³√",null,"x_cube","x<sup>3</sup>","<sup>3</sup>√"],[null,null,null,"abc","a b/c","d/c"],["√",null,null,"sqrt","√"],["²",null,null,"x_square","x<sup>2</sup>"],["^","ˣ√",null,"up_arrow","^","<sup>x</sup>√"],["log ","₁₀",null,"log","log","10<sup>x</sup>"],["ln ","ₑ","e","ln","ln","e<sup>x</sup>","e"],[null,null,null,"bracket_minus","(-)",null,"A"],[null,null,null,"degree",". , , ,","<-","B"],[null,null,null,"hyp","hyp",null,"C"],["sin ","sin⁻¹",null,"sin","sin","sin<sup>-1</sup>","D"],["cos ","cos⁻¹",null,"cos","cos","cos<sup>-1</sup>","E"],["tan ","tan⁻¹",null,"tan","tan","tan<sup>-1</sup>","F"],[null,null,null,"rcl","RCL","STO"],[null,null,null,"eng","ENG","<-"],["(",null,null,"left_bracket","("],[")",null,null,"right_bracket",")",null,"X"],[null,null,null,"coma",",",";","Y"],[null,null,null,"m_plus","M+","M-","M"],["7",null,null,"seven","7"],["8",null,null,"eight","8"],["9",null,null,"nine","9"],[null,null,null,"delete","DEL","INS"],[null,null,null,"all_clear","AC","OFF"],["4",null,null,"four","4"],["5",null,null,"five","5"],["6",null,null,"six","6"],["*",null,null,"multiply","×"],["/",null,null,"divide","÷"],["1",null,null,"one","1","S-SUM"],["2",null,null,"two","2","S-VAR"],["3",null,null,"three","3"],["+",null,null,"addition","+"],["-",null,null,"subtraction","-"],["0",null,null,"zero","0","Rnd"],[".","Ran#",null,"point",".","Ran#"],["E","π",null,"exp","EXP","π"],[null,null,null,"answer","Ans","DRG>"],[null,"%",null,"equal","=","%"]],getDisabledData:[[1],[1],[0],[1],[1],[0],[0],[1],[0],[1],[1],[1,0,1],[1],[1],[0],[0],[0],[1,1,0],[1,1,0],[1,1,0],[0],[0],[1],[1,1,0],[0],[0],[1],[1],[1],[1,0,1],[1],[1],[1],[1],[1],[1],[1,0,1],[1,0,1],[1],[1],[1],[1,0,1],[1],[1],[0],[1]]}}(),shiftAlphaController=function(s){function d(l,n,t,e,u,o){null==e&&(e=n),null==o&&(o=u),l.className===t&&(0===r.shiftCount?(document.querySelector("."+t).innerHTML=e,r.circleShift.style.backgroundColor="yellow"):(document.querySelector("."+t).innerHTML=n,r.circleShift.style.backgroundColor="transparent"),r.circleAlpha.style.backgroundColor="transparent",function(l,n,t){0===t&&0===r.shiftCount?document.querySelector("."+l.className).setAttribute("disabled",""):0===t&&1===n?document.querySelector("."+l.className).removeAttribute("disabled"):1===t&&0===r.shiftCount&&document.querySelector("."+l.className).removeAttribute("disabled")}(l,u,o))}function f(l,n,t,e,u,o){null==e&&(e=n),null==o&&(o=u),l.className===t&&(0===r.alphaCount?(document.querySelector("."+t).innerHTML=e,r.circleAlpha.style.backgroundColor="yellow"):(document.querySelector("."+t).innerHTML=n,r.circleAlpha.style.backgroundColor="transparent"),r.circleShift.style.backgroundColor="transparent",function(l,n,t){0===t&&0===r.alphaCount?document.querySelector("."+l.className).setAttribute("disabled",""):0===t&&1===n?document.querySelector("."+l.className).removeAttribute("disabled"):1===t&&0===r.alphaCount&&document.querySelector("."+l.className).removeAttribute("disabled")}(l,u,o))}function n(c){a.forEach(function(l,n){var t=s.getDataContent[n][3],e=s.getDataContent[n][4],u=s.getDataContent[n][5],o=s.getDataContent[n][6],r=s.getDisabledData[n][0],a=s.getDisabledData[n][1],i=s.getDisabledData[n][2];"shift"===c?d(l,e,t,u,r,a):f(l,e,t,o,r,i)}),"shift"===c?0===r.shiftCount&&0===r.alphaCount?r.shiftCount=1:1===r.shiftCount&&0===r.alphaCount?r.shiftCount=0:0===r.shiftCount&&1===r.alphaCount&&(r.shiftCount=1,r.alphaCount=0):0===r.alphaCount&&0===r.shiftCount?r.alphaCount=1:1===r.alphaCount&&0===r.shiftCount?r.alphaCount=0:0===r.alphaCount&&1===r.shiftCount&&(r.alphaCount=1,r.shiftCount=0)}var r=s.getDOMData(),a=r.selectAllButton;return{disabledData:function(){a.forEach(function(l,n){0===s.getDisabledData[n][0]&&document.querySelector("."+l.className).setAttribute("disabled","")})},mainFunctionOfSA:function(l){return n(l)},swapValueOfButton:function(l){return function(l){"shift"!==l.target.className&&"alpha"!==l.target.className&&(1===r.shiftCount?n("shift"):1===r.alphaCount&&n("alpha"))}(l)},getValueOfButton:function(l){return function(l){for(var n=0;n<=a.length-1;n++){var t=s.getDataContent[n][0],e=s.getDataContent[n][1],u=s.getDataContent[n][2],o=s.getDataContent[n][3];l.target.className===o&&(null!==t&&0===r.shiftCount&&0===r.alphaCount?r.displayTop.value+=t:null!==e&&1===r.shiftCount?r.displayTop.value+=e:null!==u&&1===r.alphaCount&&(r.displayTop.value+=u))}}(l)}}}(UIController),equalController=function(l){var c=l.getDOMData(),o=l.getDataContent,r=[],s=[0,1,2,3,4,5,6,7,8,9];c.selectAllButton.forEach(function(l,n){var t=o[n][0],e=o[n][1],u=o[n][2];null===t&&null===e&&null===u||(r.push(t,e,u),r=r.filter(function(l){return null!==l}),r.filter(function(l){return!s.toString().includes(l)}))});return{getEqual:function(){return function(){function l(l,n){var t=r;return t.splice(l,0,n),t=t.join("")}var n,t,e,u=c.displayTop,o=c.displayBottom,r=u.value.split("").map(function(l){return l}),a=r.filter(function(l){return!s.toString().includes(l)}),i=r.map(function(l,n){return s.toString().includes(l)?void 0:n}).filter(function(l){return void 0!==l});a.filter(function(l){return!["+","-","*","/"].includes(l)}),r.map(function(l,n){return[].concat(s,["+","-","*","/"]).toString().includes(l)?void 0:n}).filter(function(l){return void 0!==l});""!==u.value?(u.value.includes("⁻¹")?(t=r.findIndex(function(l){return l.includes("¹")})-1,e=a.findIndex(function(l){return l.includes("¹")})-2,r.splice(t,2),-1==e?(l(0,"1"),l(1,"/")):(l(i[e]+1,"1"),l(i[e]+2,"/")),n=r.join(""),console.log(n)):n=u.value,o.value=math.eval(n.toString()),console.log("top",u.value),console.log("bot",o.value),console.log(r),console.log(a),console.log(i)):console.log("empty")}()}}}(UIController),smallFunctionController=function(){var n=UIController.getDOMData(),t=function(){n.displayTop.value="",n.displayBottom.value="0"};return{getStartOrOff:function(l){return function(l){t(),n.displayTop.style.visibility=l,n.displayBottom.style.visibility=l}(l)},getClear:function(){return t()},getDelete:function(){n.displayTop.value=n.displayTop.value.slice(0,-1)}}}(),clickController=function(l,n,t,e){var u=UIController.getDOMData(),o=document.querySelectorAll("button");return{clickEvent:function(){return u.shift.addEventListener("click",function(){t.mainFunctionOfSA("shift")}),u.alpha.addEventListener("click",function(){t.mainFunctionOfSA("alpha")}),u.on.addEventListener("click",function(){n.getStartOrOff("visible")}),u.allClear.addEventListener("click",function(){0===u.shiftCount?n.getClear():n.getStartOrOff("hidden")}),u.delete.addEventListener("click",function(){n.getDelete()}),u.equal.addEventListener("click",function(){0===u.shiftCount?e.getEqual():console.log("press %")}),void o.forEach(function(l){l.addEventListener("click",function(l){t.getValueOfButton(l),t.swapValueOfButton(l)})})}}}(0,smallFunctionController,shiftAlphaController,equalController),controller=function(l,n){return{init:function(){l.disabledData(),n.clickEvent()}}}(shiftAlphaController,clickController);controller.init();